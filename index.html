<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>地縛少年花子くん（怪異の縁を紡ぐクイズ、答えてみる？）</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 30px;
      background: #f5f5f5;
    }
    .question-box, .result-box {
      margin-bottom: 20px;
    }
    button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 16px;
    }
    table {
      margin: 20px auto;
      border-collapse: collapse;
    }
    td, th {
      border: 1px solid #ccc;
      padding: 8px;
    }
    #question {
      font-size: 1.8em;
      font-weight: bold;
      line-height: 1.6;
      background-color: #fff;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    #choices button {
      display: block;
      width: 60%;
      margin: 10px auto;
    }
    #feedback {
      display: none;
      margin-top: 20px;
    }
    #answerText {
      font-size: 1.2em;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>

  <h1>地縛少年花子くん（怪異の縁を紡ぐクイズ、答えてみる？）</h1>

  <div class="question-box">
    <div id="question">問題を読み込み中...</div>
    <div id="choices"></div>
    <div id="feedback">
      <div id="answerText"></div>
      <button onclick="nextQuestion()">次の質問へ</button>
    </div>
  </div>

  <div class="result-box" id="resultBox" style="display: none;">
    <h2>クイズ終了！</h2>
    <p id="scoreText"></p>
    <p id="commentText" style="font-weight: bold; font-size: 1.2em;"></p>
    <h3>解答一覧</h3>
    <table id="resultTable">
      <tr><th>問題</th><th>正解</th><th>あなたの答え</th><th>結果</th></tr>
    </table>
    <button onclick="restartQuiz()">最初に戻る</button>
  </div>

  <script>
    const quizData = [
      {
        question: "主人公・花子くんの本来の姿はどこにいる怪異？",
        answer: "②トイレの花子さん",
        choices: ["①鏡の中の幽霊", "②トイレの花子さん", "③屋根裏の妖"]
      },
      {
        question: "花子くんが毎日こき使っているのは誰？",
        answer: "③八尋寧々",
        choices: ["①源光", "②三葉惣助", "③八尋寧々"]
      },
      {
        question: "宁々を人魚の呪いから守る代わりに助手にしたのは？",
        answer: "①花子くん",
        choices: ["①花子くん", "②源光", "③源輝"]
      },
      {
        question: "源光の持つ武器は何？",
        answer: "③雷霆杖",
        choices: ["①霊刀", "②包丁", "③雷霆杖"]
      },
      {
        question: "源光の兄で生徒会長なのは誰？",
        answer: "②源輝",
        choices: ["①源光", "②源輝", "③三葉惣助"]
      },
      {
        question: "源輝が怪異に使う武器は？",
        answer: "①霊刀",
        choices: ["①霊刀", "②雷霆杖", "③包丁"]
      },
      {
        question: "三葉惣助が元々好きだった趣味は？",
        answer: "③写真を撮ること",
        choices: ["①絵を描くこと", "②歌うこと", "③写真を撮ること"]
      },
      {
        question: "三葉惣助はどこで幽霊として出現していた？",
        answer: "①昇降口",
        choices: ["①昇降口", "②教室", "③屋上"]
      },
      {
        question: "宁々が全身濡れるとどうなる？",
        answer: "②魚になる",
        choices: ["①透明になる", "②魚になる", "③光る"]
      },
      {
        question: "宁々はなぜ“花子くん”と呼ぶようになった？",
        answer: "②友達として接することにしたから",
        choices: ["①本名が「花子くん」だから", "②友達として接することにしたから", "③呼びやすいから"]
      },
      {
        question: "宁々の髪の毛の色はどこがエメラルドグリーン？",
        answer: "③毛先",
        choices: ["①根元", "②中間", "③毛先"]
      },
      {
        question: "源光の目つきはどんな感じ？",
        answer: "②鋭くて細い瞳",
        choices: ["①丸くて大きい", "②鋭くて細い瞳", "③垂れ目で優しい"]
      },
      {
        question: "源光が片耳につけているピアスに書かれている文字は？",
        answer: "③交通",
        choices: ["①祓い", "②妖怪", "③交通"]
      },
      {
        question: "花子くんの武器は何？",
        answer: "③包丁",
        choices: ["①霊刀", "②杖", "③包丁"]
      },
      {
        question: "花子くんの左頬に貼られているものは？",
        answer: "②「封」と書かれた札",
        choices: ["①「禁」と書かれた札", "②「封」と書かれた札", "③「呪」と書かれた札"]
      },
      {
        question: "宁々のコンプレックスは何と呼ばれている？",
        answer: "①大根足",
        choices: ["①大根足", "②細い足", "③短い足"]
      },
      {
        question: "三葉惣助の別名として七不思議三番になるのは誰？",
        answer: "③ミツバ",
        choices: ["①花子くん", "②源輝", "③ミツバ"]
      },
      {
        question: "三葉惣助の“未練”は何？",
        answer: "③写真を撮ること",
        choices: ["①遊ぶこと", "②歌うこと", "③写真を撮ること"]
      },
      {
        question: "宁々の“もう一枚の人魚の鱗”を飲んだのは誰？",
        answer: "②花子くん",
        choices: ["①源光", "②花子くん", "③源輝"]
      },
      {
        question: "花子くんの性格に近い表現は？",
        answer: "②飄々としていてつかみどころがない",
        choices: ["①冷静で優しい", "②飄々としていてつかみどころがない", "③無口で真面目"]
      },
      {
        question: "宁々の得意なことは何？",
        answer: "③土いじり",
        choices: ["①絵を描くこと", "②歌を歌うこと", "③土いじり"]
      },
      {
        question: "宁々が“カンナギの娘”と呼ばれたのは誰に？",
        answer: "②土籠",
        choices: ["①花子くん", "②土籠", "③源輝"]
      },
      {
        question: "宁々の余命はあとどれくらい？",
        answer: "①1年もない",
        choices: ["①1年もない", "②5年くらいある", "③不明"]
      },
      {
        question: "シリーズ累計部数は、2024年2月時点でどれくらい？",
        answer: "①1000万部突破",
        choices: ["①1000万部突破", "②500万部突破", "③2000万部突破"]
      },
      {
        question: "本編が連載されている雑誌は？",
        answer: "③月刊Gファンタジー",
        choices: ["①週刊少年ジャンプ", "②月刊少年マガジン", "③月刊Gファンタジー"]
      },
      {
        question: "スピンオフ『放課後少年花子くん』はどこで連載されている？",
        answer: "③pixivコミックの「Pファンタピー」",
        choices: ["①少年ジャンプ＋", "②ガンガンONLINE", "③pixivコミックの「Pファンタピー」"]
      },
      {
        question: "スピンオフ版はいつから連載が始まった？",
        answer: "②2018年2月22日",
        choices: ["①2015年1月", "②2018年2月22日", "③2020年4月"]
      },
      {
        question: "本編の漫画連載開始はいつ？",
        answer: "①2015年1月号",
        choices: ["①2015年1月号", "②2016年3月号", "③2014年12月号"]
      },
      {
        question: "花子くんの好物は何？",
        answer: "②手作りドーナツ",
        choices: ["①チョコレート", "②手作りドーナツ", "③アイスクリーム"]
      },
      {
        question: "源光が憧れる職業は？",
        answer: "①兄のような祓い屋",
        choices: ["①兄のような祓い屋", "②教師", "③医者"]
      },
      {
        question: "花子くんの噂によると、何を対価として願いを叶える？",
        answer: "③この世の人間の大切なもの",
        choices: ["①時間", "②魂", "③この世の人間の大切なもの"]
      }
      {
        question: "七峰桜は学園のどこで怪異の噂を流している助手？",
        answer: "②放送室",
        choices: ["①図書館", "②放送室", "③美術室"]
      },
      {
        question: "七峰桜が助手をしている怪異は誰？",
        answer: "③つかさ",
        choices: ["①花子くん", "②源光", "③つかさ"]
      },
      {
        question: "七峰桜の性格は？",
        answer: "①落ち着いていて逆らえない",
        choices: ["①落ち着いていて逆らえない", "②明るく活発", "③冷たく無表情"]
      },
      {
        question: "日向夏彦の体質は何？",
        answer: "③殺しても死なない",
        choices: ["①誰かを殺すと死ぬ", "②透明になれる", "③殺しても死なない"]
      },
      {
        question: "日向夏彦の血は怪異に対してどう作用する？",
        answer: "②猛毒",
        choices: ["①無効", "②猛毒", "③癒す力がある"]
      },
      {
        question: "日向夏彦の趣味は？",
        answer: "①釣りとカラオケ",
        choices: ["①釣りとカラオケ", "②読書と料理", "③絵を描くこと"]
      },
      {
        question: "七峰桜が日向夏彦を何と呼んでいる？",
        answer: "①空気",
        choices: ["①空気", "②お嬢", "③チビ"]
      },
      {
        question: "つかさは花子くんの誰？",
        answer: "②双子の弟",
        choices: ["①親友", "②双子の弟", "③過去の自分"]
      },
      {
        question: "つかさの右頬には何がある？",
        answer: "③黒地に赤文字「封」の札",
        choices: ["①白地に黒文字「封」", "②赤地に黒文字「呪」", "③黒地に赤文字「封」"]
      },
      {
        question: "つかさの杖代は？",
        answer: "②黒杖代",
        choices: ["①白杖代", "②黒杖代", "③赤杖代"]
      },
      {
        question: "つかさはどこの人間の願いを叶える力を持つ？",
        answer: "①彼岸の人間",
        choices: ["①彼岸の人間", "②此岸の人間", "③未来の人間"]
      },
      {
        question: "放送室メンバーの中で“ナルシスト”なのは誰？",
        answer: "②日向夏彦",
        choices: ["①七峰桜", "②日向夏彦", "③つかさ"]
      },
      {
        question: "七峰桜は何年生？",
        answer: "②高等部三年",
        choices: ["①中等部三年", "②高等部三年", "③高等部一年"]
      },
      {
        question: "日向夏彦は何年生？",
        answer: "③高等部二年B組",
        choices: ["①中等部三年", "②高等部三年", "③高等部二年B組"]
      },
      {
        question: "七峰桜の声優は誰？",
        answer: "①安済知佳",
        choices: ["①安済知佳", "②水島大宙", "③緒方恵美"]
      },
      {
        question: "日向夏彦の声優は誰？",
        answer: "②水島大宙",
        choices: ["①千葉翔也", "②水島大宙", "③内田雄馬"]
      },
      {
        question: "つかさの声優は誰？",
        answer: "①緒方恵美",
        choices: ["①緒方恵美", "②鬼頭明里", "③安済知佳"]
      },
      {
        question: "日向夏彦が桜から“空気”と呼ばれるのはなぜ？",
        answer: "②邪魔者扱いされているから",
        choices: ["①目立っているから", "②邪魔者扱いされているから", "③優しいから"]
      },
      {
        question: "つかさの性格で正しいのは？",
        answer: "①無邪気で好奇心旺盛",
        choices: ["①無邪気で好奇心旺盛", "②冷静沈着", "③無表情で冷たい"]
      },
      {
        question: "日向夏彦の服装にあるアクセサリーは？",
        answer: "③ピアスとネックレス",
        choices: ["①腕時計", "②ブローチ", "③ピアスとネックレス"]
      },
      {
        question: "桜が“生きているか不明”と言われるのは誰の説明か？",
        answer: "②七峰桜",
        choices: ["①八尋寧々", "②七峰桜", "③赤根葵"]
      },
      {
        question: "つかさが人の願いを叶える際に必ず必要なものは？",
        answer: "③代償",
        choices: ["①契約", "②魔法の言葉", "③代償"]
      },
      {
        question: "放送室メンバーとして共に行動している組み合わせは？",
        answer: "③桜・夏彦・つかさ",
        choices: ["①桜・光・つかさ", "②夏彦・寧々・光", "③桜・夏彦・つかさ"]
      },
      {
        question: "つかさの封の色は？",
        answer: "②黒地に赤文字",
        choices: ["①白地に黒文字", "②黒地に赤文字", "③赤地に黒文字"]
      },
      {
        question: "日向夏彦の髪色は？",
        answer: "①オレンジ",
        choices: ["①オレンジ", "②黒", "③茶色"]
      },
      {
        question: "桜の髪型の特徴は？",
        answer: "②緑ショートボブで横髪だけ長い",
        choices: ["①青のロング", "②緑ショートボブで横髪だけ長い", "③黄色のボブ"]
      },
      {
        question: "つかさが使う杖代の名前は？",
        answer: "②黒杖代",
        choices: ["①白杖代", "②黒杖代", "③赤杖代"]
      },
      {
        question: "日向夏彦の性格を表すのは？",
        answer: "②軽薄でナルシスト",
        choices: ["①真面目で優しい", "②軽薄でナルシスト", "③冷酷で理性的"]
      },
      {
        question: "桜はつかさに逆らえるか？",
        answer: "③逆らえない",
        choices: ["①いつでも逆らえる", "②一度だけ逆らったことがある", "③逆らえない"]
      },
      {
        question: "つかさが流す噂の目的は？",
        answer: "②怪異を狂わせるため",
        choices: ["①人間を助けるため", "②怪異を狂わせるため", "③平和を守るため"]
      }
      {
        question: "つかさの本名は？",
        answer: "②柚木司",
        choices: ["①柚木普", "②柚木司", "③柚木光"]
      },
      {
        question: "つかさが花子くんのことを呼ぶ呼び名は？",
        answer: "①普（あまね）",
        choices: ["①普（あまね）", "②光（ひかる）", "③司（つかさ）"]
      },
      {
        question: "つかさの封の札の位置はどこ？",
        answer: "③右頬",
        choices: ["①左頬", "②額", "③右頬"]
      },
      {
        question: "つかさの封の札の色は？",
        answer: "②黒地に赤文字",
        choices: ["①白地に赤文字", "②黒地に赤文字", "③赤地に黒文字"]
      },
      {
        question: "つかさが使用する杖代の名前は？",
        answer: "②黒杖代",
        choices: ["①白杖代", "②黒杖代", "③赤杖代"]
      },
      {
        question: "つかさの服装の特徴は？",
        answer: "①和洋折衷の書生スタイル",
        choices: ["①和洋折衷の書生スタイル", "②学ランとマント", "③現代風カジュアル"]
      },
      {
        question: "つかさは花子くんの何？",
        answer: "②双子の弟",
        choices: ["①親友", "②双子の弟", "③生徒会長"]
      },
      {
        question: "つかさが叶える願いは誰のもの？",
        answer: "③彼岸の人間",
        choices: ["①此岸の人間", "②未来の人間", "③彼岸の人間"]
      },
      {
        question: "つかさの性格として正しいのは？",
        answer: "①無邪気で好奇心旺盛",
        choices: ["①無邪気で好奇心旺盛", "②冷静沈着", "③常識的で慎重"]
      },
      {
        question: "つかさが願いを叶える代わりに必ず得るものは？",
        answer: "②代償",
        choices: ["①契約", "②代償", "③呪い"]
      },
      {
        question: "つかさが願いを叶える際、どういう傾向がある？",
        answer: "③歪んだ解釈で叶える",
        choices: ["①完璧に叶える", "②叶える代わりに消える", "③歪んだ解釈で叶える"]
      },
      {
        question: "つかさの初登場はコミックスのどの巻？",
        answer: "②3巻の最後または4巻の最初",
        choices: ["①1巻", "②3巻の最後または4巻の最初", "③5巻"]
      },
      {
        question: "つかさの性質を一言で表すと？",
        answer: "①サイコパス的な面を持つ",
        choices: ["①サイコパス的な面を持つ", "②温厚で優しい", "③冷静で理論的"]
      },
      {
        question: "つかさが最初に言ったセリフは？",
        answer: "①「俺のことは殺したのに…」",
        choices: ["①「俺のことは殺したのに…」", "②「花子くん、久しぶり」", "③「やぁ、兄さん」"]
      },
      {
        question: "つかさは花子くんをどう認識している？",
        answer: "①大好きで執着している",
        choices: ["①大好きで執着している", "②憎んでいる", "③無関心である"]
      },
      {
        question: "つかさの外見は何歳くらいに見える？",
        answer: "③13歳頃の少年",
        choices: ["①10歳以下", "②大人に見える", "③13歳頃の少年"]
      },
      {
        question: "つかさの行動スタイルを象徴する言葉は？",
        answer: "②手段を選ばない",
        choices: ["①正しい方法のみ", "②手段を選ばない", "③慎重に行動する"]
      },
      {
        question: "つかさの立場は学園内では何にあたる？",
        answer: "②七不思議の一人",
        choices: ["①生徒会長", "②七不思議の一人", "③教師"]
      },
      {
        question: "つかさの行動にはどんな美学がある？",
        answer: "③残酷さと無邪気さの融合",
        choices: ["①優しさのみ", "②正義感のみ", "③残酷さと無邪気さの融合"]
      },
      {
        question: "桜とつかさの関係は？",
        answer: "③助手と主の関係",
        choices: ["①友人同士", "②教師と生徒", "③助手と主の関係"]
      },
      {
        question: "夏彦がつかさに従う理由は？",
        answer: "②噂を乱す役割のため",
        choices: ["①友情のため", "②噂を乱す役割のため", "③惚れているから"]
      },
      {
        question: "つかさの性格に多いギャップは？",
        answer: "②無邪気な外見＋残虐な内面",
        choices: ["①無口だけど優しい", "②無邪気な外見＋残虐な内面", "③明るいけど弱い"]
      },
      {
        question: "つかさが「ガマンするのを辞めた人間の顔が好き」と言ったのは？",
        answer: "②彼の本質を表す発言",
        choices: ["①冗談で言った", "②彼の本質を表す発言", "③誤訳された言葉"]
      },
      {
        question: "Seesaaの記事によると、夏彦が桜のことを何と呼ぶ？",
        answer: "①お嬢",
        choices: ["①お嬢", "②姫", "③姐さん"]
      },
      {
        question: "Seesaaの記事によれば、夏彦がつかさのことを何と呼ぶ？",
        answer: "②チビ",
        choices: ["①兄さん", "②チビ", "③先輩"]
      },
      {
        question: "つかさの登場は学園に何をもたらした？",
        answer: "③噂の混乱",
        choices: ["①秩序の回復", "②笑い", "③噂の混乱"]
      },
      {
        question: "Mirumiruworldでは、桜はつかさについてどう思われている？",
        answer: "②主人に逆らえない存在",
        choices: ["①敬遠している存在", "②主人に逆らえない存在", "③親友"]
      },
      {
        question: "つかさの洋服スタイルに含まれないのは？",
        answer: "①学ランとマント",
        choices: ["①学ランとマント", "②襟付きシャツ＋袴", "③着物風の上着"]
      },
      {
        question: "つかさの善悪感覚はどのよう？",
        answer: "③非常に独自の歪んだ価値観",
        choices: ["①常識的とされる善悪", "②完全に善に偏っている", "③非常に独自の歪んだ価値観"]
      },
      {
        question: "つかさの性格を他人に例えるなら？",
        answer: "①猫のような予測不能さ",
        choices: ["①猫のような予測不能さ", "②犬のような忠実さ", "③鳥のような自由さ"]
      },
      {
        question: "つかさが登場したきっかけは何？",
        answer: "③黒杖代（折り鶴）を使って現れた",
        choices: ["①ドアから歩いて出た", "②絵から飛び出した", "③黒杖代（折り鶴）を使って現れた"]
      },
      {
        question: "つかさの『好きなおやつ』と『最近の悩み』は？",
        answer: "②「あまね！！」",
        choices: ["①ドーナツ", "②「あまね！！」", "③花子くん"]
      },
      {
        question: "つかさの血液の性質は？",
        answer: "③不明／言及なし",
        choices: ["①怪異に毒", "②癒しの効果あり", "③不明／言及なし"]
      },
      {
        question: "つかさの二面性を象徴するのは？",
        answer: "③無邪気な外見と狂気的行動",
        choices: ["①優しい言葉と厳しい行動", "②冷静な外見と熱い内面", "③無邪気な外見と狂気的行動"]
      },
      {
        question: "つかさの過去に関する核心要素は？",
        answer: "③花子くんに殺された弟",
        choices: ["①自殺した弟", "②別の誰かに殺された", "③花子くんに殺された弟"]
      },
      {
        question: "つかさの存在が示すテーマは？",
        answer: "②過去の負の感情と歪んだ願い",
        choices: ["①純粋な友情", "②過去の負の感情と歪んだ願い", "③未来への希望"]
      },
      {
        question: "Mirumiruworldによると、つかさは生前何をしていた？",
        answer: "①兄の花子くんを慕っていた",
        choices: ["①兄の花子くんを慕っていた", "②友達と遊んでいた", "③教室で勉強していた"]
      }
    ];

    let current = 0;
    let score = 0;
    let results = [];
    let shuffledQuiz = [];
    let selectedChoice = null;

    function shuffleArray(array) {
      const copy = [...array];
      for (let i = copy.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      return copy;
    }

    // キーボード入力で選択＆Enterで次へ
    document.addEventListener('keydown', function(e) {
      if (['1', '2', '3'].includes(e.key)) {
        const buttons = document.querySelectorAll('#choices button');
        const index = parseInt(e.key) - 1;
        if (buttons[index]) {
          buttons[index].click();
          selectedChoice = buttons[index].textContent;
        }
      }

      if (e.key === 'Enter') {
        const feedbackVisible = document.getElementById('feedback').style.display === 'block';
        if (feedbackVisible) {
          nextQuestion();
        }
      }
    });

    function loadQuestion() {
      const currentQuiz = shuffledQuiz[current];
      document.getElementById('question').textContent = currentQuiz.question;

      const choicesContainer = document.getElementById('choices');
      choicesContainer.innerHTML = '';

      currentQuiz.choices.forEach(choice => {
        const button = document.createElement('button');
        button.textContent = choice;
        button.onclick = () => handleAnswer(choice);
        choicesContainer.appendChild(button);
      });

      selectedChoice = null;
      document.getElementById('feedback').style.display = 'none';
    }

    function handleAnswer(selected) {
      const currentQuiz = shuffledQuiz[current];
      const isCorrect = selected === currentQuiz.answer;

      // ボタン無効化
      document.querySelectorAll('#choices button').forEach(btn => btn.disabled = true);

      // フィードバック表示
      const feedbackBox = document.getElementById('feedback');
      const answerText = document.getElementById('answerText');
      answerText.innerHTML = isCorrect
      ? `✅ <span style="color: green;">「やったね！その答えは…… <strong>${currentQuiz.answer}</strong>。その縁、間違いないよ！」</span>`
      : `❌ <span style="color: red;">「あれれ？違うみたい。正解は…… <strong>${currentQuiz.answer}</strong>。もっと縁を感じてみて！」</span>`; 
      feedbackBox.style.display = 'block';
      if (isCorrect) score++;

      results.push({
        question: currentQuiz.question,
        answer: currentQuiz.answer,
        selected: selected,
        correct: isCorrect
      });

      // 1秒後に自動で次の質問へ
      setTimeout(() => {
        nextQuestion();
      }, 1000);
    }


    function nextQuestion() {
      current++;
      if (current < shuffledQuiz.length) {
        loadQuestion();
      } else {
        showResult();
      }
    }

    function getJojoComment(score) {
      if (score < 1) score = 1;
      if (score > 100) score = 100;

      const comments = {
        1:"まだ始まりの一歩だな。まずは“小さな縁”に気づくことが大切だ。（光）",
        2:"ほら、小さな祓いの気配が感じられるだろ？諦めるな。（光）",
        3:"「怪異が見える」その才能、少し芽生えてきたな。見守ってるぞ。（光）",
        4:"ほんの少しだけ光が差し込んだみたいだ…その縁を信じろ。（光）",
        5:"意志の種は芽吹いてる。その気持ちを祓いの力に変えていけ。（光）",
        6:"まずは気配を察知する。次は行動だ、小さな一歩でも踏み出せ！（光）",
        7:"伝統ある祓い屋の血が、君の中にも確かに流れてる…感じてくれ。（光）",
        8:"第一歩は踏み出したな…でも、本番はこれからだぞ！（光）",
        9:"いい調子だ！目の前の怪異を祓って、次へ進め！（光）",
        10:"祓いの気配が根付いてきたな…まだ序章、ここからが本番だ。（光）",
        11:"心の熱量を高めろ。それが強い祓いの力を生むんだ。（光）",
        12:"努力は必ず実る。焦らず、着実に強くなれ。（光）",
        13:"運命は自分の手の中にある。諦めるな。（光）",
        14:"気配が濃くなってきた…険しい道でも、その先にあるものは“意味”だ。（光）",
        15:"ここが頑張りどころだ。諦めたらそこで終わるぞ！（光）",
        16:"確実に成長しているよ。過去ではなく、新しい歩みを刻め。（光）",
        17:"その覚悟が“覚醒の瞬間”をつかむんだ。眠れる力を解き放て。（光）",
        18:"もっと心に火を灯せ！熱い意志こそ、怪異も怖れさせる。（光）",
        19:"あとちょっとで勝機が見えてくる。手を伸ばせ。（光）",
        20:"祓いの芽がしっかり根づいてきたな。でも、本当の挑戦はこれからだ。（光）",
        21:"「爆ぜるような気配」に押されないで、意志を研ぎ澄ませ！（光）",
        22:"進化は止まらない。祓い屋としての腕が研ぎ澄まされてるぞ。（光）",
        23:"影がちらついても、その意志があれば振り払える。（光）",
        24:"少しずつ、学園の奥深さが見えてきたね…！（寧々）",
        25:"ここからが本格的な学びの始まりだよ。道はまだ続いてる。（寧々）",
        26:"祓いの力を信じて。無理はしない、一歩ずつ…（寧々）",
        27:"“呼吸”を整えて…そのリズムが戦いのメロディになる…！（寧々）",
        28:"もう少し…勝利はすぐそこ。最後まで諦めないで？（寧々）",
        29:"祓いは君の分身。全力で信じ抜いて…！（寧々）",
        30:"ここから本当の戦いだ。祓い屋として、魂を込めて…！（寧々）",
        31:"自分の真価を示せ。君の力に自信を持って…！（寧々）",
        32:"しなやかに、でも強く…そんな戦いも素敵だよ…！（寧々）",
        33:"運命は君が変えられる。強い意志で未来を創ろう！（寧々）",
        34:"戦いには知恵も重要な武器だよ…！（寧々）",
        35:"祓いをまっすぐ拳に込めて…全てを受け止めろ！（寧々）",
        36:"隠された力が目覚めようとしてる…今こそ出すときだ…！（寧々）",
        37:"最後まで諦めず、魂の叫びを響かせて…！（寧々）",
        38:"黄金の風を感じて。その風に乗って進もう…！（寧々）",
        39:"その祓いを解き放って、怪異に恐怖を刻み込め…！（寧々）",
        40:"覚悟できてるなら、本物の舞台で戦おう…！（寧々）",
        41:"道は光で満たされてる…迷わず進んで…！（寧々）",
        42:"“時間を止めるような瞬間”…その刹那こそが転機だ…！（寧々）",
        43:"絶対に阻止すべきことがある。未来は君が握ってる…！（寧々）",
        44:"真の証を見せて。魂を世界に届けて…！（寧々）",
        45:"もう中堅だよ…でも、さらなる高みへ進もう…！（寧々）",
        46:"その立ち姿の美しさに、見惚れる人も増えてるよ…！（寧々）",
        47:"縁が満ちてる…その力で一気に突っ走れる気がするね…！（花子くん）",
        48:"理解が深まってきた…君、本物の怪異使いになりつつある…！（花子くん）",
        49:"あと一歩で“大人”な使い手だ。油断は禁物、そのまま行こう…！（花子くん）",
        50:"折り返し地点だよ…ここが一番楽しいところ！全力で楽しもう…！（花子くん）",
        51:"伝説に少しだけ近づいたね…君の物語はまだまだ続くよ…！（花子くん）",
        52:"「血の高まり」って感じだね…その勢いでぶつかろう…！（花子くん）",
        53:"君の祓いの鼓動を感じるよ。勝利の予感がしてる…！（花子くん）",
        54:"すごいぞ…この学園を思いっきり楽しんで…！（花子くん）",
        55:"未来を変えるのは、他の誰でもない君自身だよ…！（花子くん）",
        56:"もう“慣れっこ”の域だね…その自分を誇っていいよ…！（花子くん）",
        57:"覚悟できただろ？今こそ全てを賭けるとき…！（花子くん）",
        58:"祓いの力がますます強く…世界の色が変わっていく気がする…！（花子くん）",
        59:"君の技こそが“真の力”だ…極限まで磨いて…！（花子くん）",
        60:"全力で“駆け抜けるラッシュ”を…すべてを吹き飛ばそう…！（花子くん）",
        61:"強烈な力も、恐れずに受け止められるよ…！（花子くん）",
        62:"もう部長級…気迫を込めて、勝利を掴みに行こう…！（花子くん）",
        63:"運命に背いていいんだよ。君の意志は鋭い刃だから…！（花子くん）",
        64:"過去を断ち切り、新しい未来のページを刻もう…！（花子くん）",
        65:"副部長へ着々と近づいてるね。誇りを持って前へ…！（花子くん）",
        66:"屈しない強さ…絶対に最後まで諦めないで…！（花子くん）",
        67:"嵐みたいな勢いで進め…君のペースでいい…！（花子くん）",
        68:"もう“ラスボス級”に近い存在って感じだよ…最後までそのまま…！（花子くん）",
        69:"祓いの炎が燃えてる…その熱さが勝利への鍵だね…！（花子くん）",
        70:"「70点。その縁…まるで黄金の光みたいだ。消えちゃいけない、その輝きを大切にして…」（花子くん）",
        71:"「71点。怪異使いとして大きく成長したね。これからもその道を、共に進もう…」（花子くん）",
        72:"「72点。覚悟は本物だね。君はもう、“守られる側”じゃないんだよ」（花子くん）",
        73:"「73点。ここまで来た君の意志は、本物の“力”になってるよ…安心していい」（花子くん）",
        74:"「74点。その力…怪異たちも一目置いてるはず。誇っていいよ」（花子くん）",
        75:"「75点。立ち姿が様になってきたね。まるで、怪異側の英雄みたい」（花子くん）",
        76:"「76点。眠ってた力が、やっと目を覚ましたんだね…ここからが本番」（花子くん）",
        77:"「77点。君の意志が、きっと誰かを救う。僕も信じてるよ」（花子くん）",
        78:"「78点。未来を変える力、もう手の中にあるじゃないか…躊躇うな」（花子くん）",
        79:"「79点。怪異使いとしての器が、完成に近づいてきてるよ…すごいね」（花子くん）",
        80:"「80点。もう“ただの人間”じゃないね。君の縁が、世界を照らしてるよ」（花子くん）",
        81:"「81点。その鼓動、ちゃんと“異界”に響いてる。大丈夫、僕が見てる」（花子くん）",
        82:"「82点。その歩みには、強い意味がある。怪異たちにも届いてるよ」（花子くん）",
        83:"「83点。君の存在が、少しずつ伝説になっていくのを感じるよ…」（花子くん）",
        84:"「84点。その意志、誰にも真似できない。君だけの強さなんだ」（花子くん）",
        85:"「85点。君の祓いは、もう誰かの“希望”になってる。気づいてた？」（花子くん）",
        86:"「86点。その優しさと強さが合わさった時、最強になれるって知ってる？」（寧々）",
        87:"「87点。もう誰かを守れる力があるよ。自信、持っていいと思う」（寧々）",
        88:"「88点。きっと、あまねくんも『すごいな』って思ってるよ…」（寧々）",
        89:"「89点。迷いがあってもいい。そのままの君で、世界は変えられるんだよ」（寧々）",
        90:"「90点。君の存在が、誰かにとっての“光”になる日が来ると思うの」（寧々）",
        91:"「91点。頑張る姿、ちゃんと伝わってるよ。だから、もう怖がらなくていいよ」（寧々）",
        92:"「92点。怪異にだって届く“心”がある。その強さ、きっと特別だよ」（寧々）",
        93:"「93点。ここまで来られた君なら、きっとどんな未来も選べるよ」（寧々）",
        94:"「94点。もうすぐ“全部壊せる”くらい強くなるかもね。楽しみだなぁ?」（つかさ）",
        95:"「95点。ふーん、やっぱり君って面白いね。もっと見せてよ、本気の顔」（つかさ）",
        96:"「96点。このままいけば、神様だって超えられるかもよ？どうする？」（つかさ）",
        97:"「97点。僕でもちょっとゾクッとしたよ。その力、ホンモノだ」（つかさ）",
        98:"「98点。うん、もう怪異の中でも目立ってる。君だけの“物語”が始まってるね」（つかさ）",
        99:"「99点。あと一歩で完璧。その先には“新しい世界”が待ってるよ」（つかさ）",
        100:"「100点！やったね！ついに“異界の英雄”になったじゃん。さぁ、何を壊す？」（つかさ）",
      };

      const color = score <= 20 ? "red"
                  : score <= 40 ? "orange"
                  : score <= 60 ? "green"
                  : score <= 80 ? "blue"
                  : "purple";

      return `<span style="color:${color};">「${comments[score]}」</span>`;
    }


    function showResult() {
      const percent = (score / shuffledQuiz.length) * 100;
      document.getElementById('scoreText').textContent = `あなたの得点は ${score * 1} 点です！（${score} / ${shuffledQuiz.length}問）`;
      document.getElementById('commentText').innerHTML = getJojoComment(Math.floor(percent));

      const table = document.getElementById('resultTable');
      table.innerHTML = '<tr><th>問題</th><th>正解</th><th>あなたの答え</th><th>結果</th></tr>';
      results.forEach(result => {
        const row = table.insertRow();
        row.insertCell(0).textContent = result.question;
        row.insertCell(1).textContent = result.answer;
        row.insertCell(2).textContent = result.selected;
        const resultCell = row.insertCell(3);
        resultCell.textContent = result.correct ? "正解" : "不正解";
        resultCell.style.color = result.correct ? "green" : "red";
      });

      document.querySelector('.question-box').style.display = 'none';
      document.getElementById('resultBox').style.display = 'block';
    }

    function restartQuiz() {
      score = 0;
      current = 0;
      results = [];
      shuffledQuiz = shuffleArray(quizData).slice(0, quizData.length); // 全問表示
      document.querySelector('.question-box').style.display = 'block';
      document.getElementById('resultBox').style.display = 'none';
      loadQuestion();
    }

    // 初期化
    shuffledQuiz = shuffleArray(quizData).slice(0, quizData.length);
    loadQuestion();
  </script>

</body>
</html>
